import{bX as Z,_ as H,o as P,D as d,r as E,P as k,G as w,x as u,B as _,y as s,A as f,H as e,aS as X,W as q,U as J,L as F,v as y,M as L,N,C as D,z as O,u as j,av as K}from"./Dt7xPlWn.js";import{u as Y}from"./BCJsK1af.js";import{u as ee}from"./DCORhbU6.js";import te from"./C2IWUEcd.js";import B from"./CTJub5_Q.js";const ae=Z("/favicon.svg"),le={class:"menubar-end"},oe={__name:"DefaultHeader",setup(U){P(()=>{c.value=Q});const{terms:v,currentTerm:o}=Y(),{selectedCourses:S,selectedRows:p,windowWidth:b}=ee(),c=d("updateMenubar"),z=d("loadTermData"),M=d("deptLists",()=>({})),g=d("deptList"),V=d("isShowSchedule",()=>!1),r=d("darkMode",()=>!1),C=()=>{r.value?document.documentElement.classList.add("dark-mode-toggle"):document.documentElement.classList.remove("dark-mode-toggle")},G=E({width:"3.5rem",height:"2rem",handle:{size:"1.5rem",checked:{color:"#FFFFFF",background:"#000000",hover:{color:"#FFFFFF",background:"#000000"}}},checked:{background:"#FFFFFF",hover:{background:"#FFFFFF"}}}),T=E([{label:"課表",icon:"pi pi-fw pi-calendar",command:()=>{V.value=!0}},{label:"選擇學期",icon:"pi pi-fw pi-book",items:[]}]);function Q(){const m=T.value[1];if(g.value||(g.value=A(d("rowData").value),M.value[o.value]=g.value),m.items=v.value.map(l=>({label:l,items:[1,2,3].map(t=>({label:["1","2","暑期"][t-1],command:()=>{o.value=`${l}-${t}`,p.value=S.value[o.value]||{},S.value[o.value]=p.value,g.value=M.value[o.value]||A(d("rowData").value),M.value[o.value]=g.value,z.value(),m.label=b.value>380?`學期：${l}-${["1","2","暑期"][t-1]}`:`${l}-${["1","2","暑期"][t-1]}`}}))})),!o.value){m.label="選擇學期";return}m.label=b.value>380?`學期：${o.value}`:o.value}function A(m){const l={"":"其他",E:"教育學院",L:"文學院",S:"理學院",T:"藝術學院",H:"科技學院",A:"運休學院",I:"國社學院",M:"音樂學院",O:"管理學院",C:"產創學院",Z:"學程"},t={};return m.forEach($=>{const a=$.dept_code,i=`${a} ${$.dept_chiabbr}`;if(!/^[A-Za-z]/.test(a)||a.length!==1&&a.length!==4){t[""]||(t[""]={}),t[""][a]=i;return}if(t[a[0]]||(t[a[0]]={}),a.length===1)t[a[0]][a]=i;else{const h=a.slice(2);t[a[0]][h]||(t[a[0]][h]={}),t[a[0]][h][a]=i}}),Object.entries(l).map(([$,a],i)=>({key:i,label:a,data:{value:null,matchMode:k.EQUALS},children:Object.entries(t[$]||{}).map(([h,n],x)=>typeof n=="string"?{key:`${i}-${x}`,label:n,data:{value:h,matchMode:k.EQUALS}}:Object.keys(n).length===1?{key:`${i}-${x}`,label:n[Object.keys(n)[0]],data:{value:Object.keys(n)[0],matchMode:k.EQUALS}}:{key:`${i}-${x}`,label:`${h.slice(0)} ${n[Object.keys(n)[0]].slice(5,n[Object.keys(n)[0]].indexOf("（"))}`,data:{value:h.slice(0),matchMode:k.ENDS_WITH},children:Object.entries(n).map(([R,I],W)=>({key:`${i}-${x}-${W}`,label:I,data:{value:R,matchMode:k.EQUALS}}))})}))}return(m,l)=>(u(),w(e(te),{model:e(T),sticky:!0,breakpoint:"340px"},{start:_(()=>[f(e(F),{class:"p-button-rounded p-button-secondary me-2",as:"router-link",to:"/home","aria-label":"Home"},{icon:_(()=>l[2]||(l[2]=[s("img",{src:ae,alt:"Home Icon",width:"24",height:"24"},null,-1)])),_:1})]),end:_(()=>[s("div",le,[e(b)>600?(u(),w(e(X),{key:0,modelValue:e(r),"onUpdate:modelValue":l[0]||(l[0]=t=>q(r)?r.value=t:null),class:"me-2",onChange:C,"aria-label":"Toggle Dark Mode",dt:e(G)},{handle:_(()=>[s("i",{class:J({"pi pi-sun":!e(r),"pi pi-moon":e(r)})},null,2)]),_:1},8,["modelValue","dt"])):(u(),w(e(F),{key:1,icon:e(r)?"pi pi-moon":"pi pi-sun",severity:e(r)?"secondary":"primary",class:"p-button-rounded p-button-secondary me-2",onClick:l[1]||(l[1]=()=>{r.value=!e(r),C()}),"aria-label":"Toggle Dark Mode"},null,8,["icon","severity"])),f(e(F),{icon:"pi pi-github",class:"p-button-rounded p-button-secondary",as:"a",href:"https://github.com/sun92122/NTNUx",target:"_blank","aria-label":"Github"})])]),_:1},8,["model"]))}},se=H(oe,[["__scopeId","data-v-ece6ad42"]]),ne={class:"footer"},re={class:"footer-content"},ue=["href"],ce={__name:"DefaultFooter",setup(U){const v=d("isShowSchedule",()=>!1),o=[{label:"更多功能",icon:"pi pi-fw pi-cog",items:[{label:"顯示課表",command:()=>{v.value=!0}},{label:"進階搜尋",command:()=>{j().push("/?m=advanced")}},{label:"顯示收藏課程",command:()=>{j().push("/favorite")}},{label:"課程討論區（GitHub）",url:"https://github.com/sun92122/NTNUx/discussions/categories/course-%E8%AA%B2%E7%A8%8B"}]},{label:"關於 NTNUx",icon:"pi pi-fw pi-info-circle",items:[{label:"GitHub",url:"https://github.com/sun92122/NTNUx"},{label:"Bug 回報",url:"https://github.com/sun92122/NTNUx/issues"},{label:"NTNUx 討論區",url:"https://github.com/sun92122/NTNUx/discussions"}]},{label:"實用連結",icon:"pi pi-fw pi-link",items:[{label:"師大課程資訊",url:"https://courseap2.itc.ntnu.edu.tw/acadmOpenCourse/index.jsp"},{label:"師大選課系統",url:`https://cos${Math.floor(Math.random()*4)+1}s.ntnu.edu.tw/AasEnrollStudent`},{label:"行政資訊入口",url:"https://iportal2.ntnu.edu.tw/ntnu/"},{label:"年度行事曆",url:"https://www.aa.ntnu.edu.tw/zh_tw/Calender"},{label:"選課沒地雷（FB）",url:"https://www.facebook.com/groups/143704482352660/"}]}];return(S,p)=>(u(),y("footer",ne,[f(e(B)),s("div",re,[(u(),y(L,null,N(o,b=>s("div",{class:"footer-content-col",key:b.label},[s("h4",null,O(b.label),1),(u(!0),y(L,null,N(b.items,c=>(u(),y("div",{key:c.label,style:{padding:"2px 0"}},[c.url?(u(),w(e(F),{key:0,label:c.label,class:"p-button-text p-button-secondary",asChild:""},{default:_(()=>[s("a",{href:c.url,target:"_blank",style:{"text-decoration":"none",color:"inherit"}},O(c.label),9,ue),p[0]||(p[0]=s("i",{class:"pi pi-external-link",style:{"font-size":"0.75rem","margin-left":"0.5rem"}},null,-1))]),_:2},1032,["label"])):(u(),w(e(F),{key:1,label:c.label,class:"p-button-text p-button-secondary",onClick:c.command,style:{padding:"0",border:"none"}},null,8,["label","onClick"]))]))),128))])),64))]),f(e(B),{class:"footer-content"}),p[1]||(p[1]=s("span",{class:"footer-copyright"},[D(" © 2025 "),s("a",{href:"https://github.com/sun92122/NTNUx",target:"_blank",style:{color:"var(--p-text-secondary-color)"}}," NTNUx. "),s("br"),D(" 所有課程資料為國立臺灣師範大學所有，僅供學術研究與個人使用 "),s("br"),D(" 資料非實時更新，請以學校公告為準 ")],-1))]))}},ie=H(ce,[["__scopeId","data-v-0449bc30"]]),fe={__name:"default",setup(U){return(v,o)=>(u(),y(L,null,[f(e(se)),K(v.$slots,"default"),f(e(ie))],64))}};export{fe as default};
