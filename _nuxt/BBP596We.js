import{C as o,a7 as m}from"./Q2KG5fdx.js";function _(){const i=o("selectedCourses",()=>({})),u=o("selectedRows",()=>({})),n=o("selectCode",()=>new Set),s=m(),a=o("windowWidth",()=>window.innerWidth);function d(e){const l=u.value;l[e.serial_no]?(delete l[e.serial_no],s.add({severity:"info",summary:"已取消選課",detail:`${e.serial_no} ${e.course_name}`,life:3e3,group:a.value<768?"bottom":null})):(l[e.serial_no]=e,s.add({severity:"success",summary:"已選課",detail:`${e.serial_no} ${e.course_name}`,life:3e3,group:a.value<768?"bottom":null}))}function r(e,l){const t=i.value;t[l]?t[l][e.serial_no]?(delete t[l][e.serial_no],s.add({severity:"info",summary:"已取消選課",detail:`${e.serial_no} ${e.course_name} (${l})`,life:3e3,group:a.value<768?"bottom":null})):(t[l][e.serial_no]=e,s.add({severity:"success",summary:"已選課",detail:`${e.serial_no} ${e.course_name} (${l})`,life:3e3,group:a.value<768?"bottom":null})):(t[l]={[e.serial_no]:e},s.add({severity:"success",summary:"已選課",detail:`${e.serial_no} ${e.course_name} (${l})`,life:3e3,group:a.value<768?"bottom":null}))}function f(e,l=null){var t;return l?i.value[l]&&((t=i.value[l])==null?void 0:t[e])||!1:u.value[e]||!1}function v(e,l){n.value.has(e)?(n.value.delete(e),s.add({severity:"info",summary:"已取消收藏",detail:`${e} ${l}`,life:3e3,group:a.value<768?"bottom":null})):(n.value.add(e),s.add({severity:"success",summary:"已收藏",detail:`${e} ${l}`,life:3e3,group:a.value<768?"bottom":null}))}function c(e){return n.value.has(e)}return{selectedCourses:i,selectedRows:u,selectCode:n,toast:s,windowWidth:a,selectCourse:d,selectCourseWithTerm:r,checkSelectedCourse:f,selectCodeHandler:v,checkSelectCode:c}}export{_ as u};
